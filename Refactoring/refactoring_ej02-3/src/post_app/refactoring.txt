Bad Smell: Long Method
Refactoring: Extract Method